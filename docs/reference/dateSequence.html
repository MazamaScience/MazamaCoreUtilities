<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a POSIXct date sequence — dateSequence • MazamaCoreUtils</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a POSIXct date sequence — dateSequence"><meta property="og:description" content='Uses incoming parameters to return a seqeunce of POSIXct times at
local midnight in the specified timezone. The first returned time will
be midnight of the requested startdate. The final returned time will
be midnight (at the beginning) of the requested enddate.
The ceilingEnd argument addresses the ambiguity of a phrase like:
"August 1-8". With ceilingEnd = FALSE (default) this pharse means
"through the beginning of Aug 8". With ceilingEnd = TRUE it means
"through the end of Aug 8".
The required timezone parameter must be one of those found in
OlsonNames.
Dates can be anything that is understood by
lubrdiate::parse_date_time() using the Ymd[HMS] orders. This
includes:

"YYYYmmdd"
"YYYYmmddHHMMSS"
"YYYY-mm-dd"
"YYYY-mm-dd H"
"YYYY-mm-dd H:M"
"YYYY-mm-dd H:M:S"


All hour-minute-second information is removed after parsing.'><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MazamaCoreUtils</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.14</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MazamaScience/MazamaCoreUtils/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a POSIXct date sequence</h1>
    <small class="dont-index">Source: <a href="https://github.com/MazamaScience/MazamaCoreUtils/blob/HEAD/R/dateSequence.R" class="external-link"><code>R/dateSequence.R</code></a></small>
    <div class="hidden name"><code>dateSequence.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Uses incoming parameters to return a seqeunce of <code>POSIXct</code> times at
local midnight in the specified <code>timezone</code>. The first returned time will
be midnight of the requested <code>startdate</code>. The final returned time will
be midnight (<em>at the beginning</em>) of the requested <code>enddate</code>.</p>
<p>The <code>ceilingEnd</code> argument addresses the ambiguity of a phrase like:
"August 1-8". With <code>ceilingEnd = FALSE</code> (default) this pharse means
"through the beginning of Aug 8". With <code>ceilingEnd = TRUE</code> it means
"through the end of Aug 8".</p>
<p>The required <code>timezone</code> parameter must be one of those found in
<code><a href="https://rdrr.io/r/base/timezones.html" class="external-link">OlsonNames</a></code>.</p>
<p>Dates can be anything that is understood by
<code>lubrdiate::parse_date_time()</code> using the <code>Ymd[HMS]</code> orders. This
includes:</p>
<ul><li><p><code>"YYYYmmdd"</code></p></li>
<li><p><code>"YYYYmmddHHMMSS"</code></p></li>
<li><p><code>"YYYY-mm-dd"</code></p></li>
<li><p><code>"YYYY-mm-dd H"</code></p></li>
<li><p><code>"YYYY-mm-dd H:M"</code></p></li>
<li><p><code>"YYYY-mm-dd H:M:S"</code></p></li>
</ul><p>All hour-minute-second information is removed after parsing.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dateSequence</span><span class="op">(</span></span>
<span>  startdate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  enddate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timezone <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ceilingEnd <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>startdate</dt>
<dd><p>Desired start datetime (ISO 8601).</p></dd>


<dt>enddate</dt>
<dd><p>Desired end datetime (ISO 8601).</p></dd>


<dt>timezone</dt>
<dd><p>Olson timezone used to interpret dates (required).</p></dd>


<dt>ceilingEnd</dt>
<dd><p>Logical instruction to apply
<code><a href="https://lubridate.tidyverse.org/reference/round_date.html" class="external-link">ceiling_date</a></code> to the <code>enddate</code> rather than
<code><a href="https://lubridate.tidyverse.org/reference/round_date.html" class="external-link">floor_date</a></code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector of <code>POSIXct</code>s at midnight local time.</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>The main utility of this function is that it respects "clock time" and
returns times associated with midnight regardless of daylight savings. This
is in contrast to `seq.Date(from, to, by = "day")` which creates a sequence
of datetimes always separated by 24 hours.</p>
    </div>
    <div id="posixct-inputs">
    <h2>POSIXct inputs</h2>
    

<p>When <code>startdate</code> or <code>enddate</code> are already <code>POSIXct</code> values,
they are converted to the timezone specified by <code>timezone</code> without
altering the physical instant in time the input represents. Only after
conversion are they floored to midnight local time</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/MazamaScience/MazamaCoreUtils" class="external-link">MazamaCoreUtils</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">dateSequence</span><span class="op">(</span><span class="st">"2019-11-01"</span>, <span class="st">"2019-11-08"</span>, timezone <span class="op">=</span> <span class="st">"America/Los_Angeles"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-11-01 PDT" "2019-11-02 PDT" "2019-11-03 PDT" "2019-11-04 PST"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-11-05 PST" "2019-11-06 PST" "2019-11-07 PST" "2019-11-08 PST"</span>
<span class="r-in"><span><span class="fu">dateSequence</span><span class="op">(</span><span class="st">"2019-11-01"</span>, <span class="st">"2019-11-07"</span>, timezone <span class="op">=</span> <span class="st">"America/Los_Angeles"</span>,</span></span>
<span class="r-in"><span>             ceilingEnd <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-11-01 PDT" "2019-11-02 PDT" "2019-11-03 PDT" "2019-11-04 PST"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-11-05 PST" "2019-11-06 PST" "2019-11-07 PST" "2019-11-08 PST"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Observe the handling of daylight savings</span></span></span>
<span class="r-in"><span><span class="va">datetime</span> <span class="op">&lt;-</span> <span class="fu">dateSequence</span><span class="op">(</span><span class="st">"2019-11-01"</span>, <span class="st">"2019-11-08"</span>,</span></span>
<span class="r-in"><span>                         timezone <span class="op">=</span> <span class="st">"America/Los_Angeles"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">datetime</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-11-01 PDT" "2019-11-02 PDT" "2019-11-03 PDT" "2019-11-04 PST"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-11-05 PST" "2019-11-06 PST" "2019-11-07 PST" "2019-11-08 PST"</span>
<span class="r-in"><span><span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/with_tz.html" class="external-link">with_tz</a></span><span class="op">(</span><span class="va">datetime</span>, <span class="st">"UTC"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-11-01 07:00:00 UTC" "2019-11-02 07:00:00 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3] "2019-11-03 07:00:00 UTC" "2019-11-04 08:00:00 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-11-05 08:00:00 UTC" "2019-11-06 08:00:00 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7] "2019-11-07 08:00:00 UTC" "2019-11-08 08:00:00 UTC"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Passing in POSIXct values preserves the instant in time before flooring --</span></span></span>
<span class="r-in"><span><span class="co">#   midnight Tokyo time is the day before in UTC</span></span></span>
<span class="r-in"><span><span class="va">jst</span> <span class="op">&lt;-</span> <span class="fu">dateSequence</span><span class="op">(</span><span class="fl">20190307</span>, <span class="fl">20190315</span>, timezone <span class="op">=</span> <span class="st">"Asia/Tokyo"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">jst</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-03-07 JST" "2019-03-08 JST" "2019-03-09 JST" "2019-03-10 JST"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-03-11 JST" "2019-03-12 JST" "2019-03-13 JST" "2019-03-14 JST"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9] "2019-03-15 JST"</span>
<span class="r-in"><span><span class="fu">dateSequence</span><span class="op">(</span><span class="va">jst</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">jst</span><span class="op">[</span><span class="fl">7</span><span class="op">]</span>, timezone <span class="op">=</span> <span class="st">"UTC"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "2019-03-06 UTC" "2019-03-07 UTC" "2019-03-08 UTC" "2019-03-09 UTC"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5] "2019-03-10 UTC" "2019-03-11 UTC" "2019-03-12 UTC"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jonathan Callahan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

